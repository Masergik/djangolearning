{% extends 'base.html' %}
{% load static %}

{% block title %}
  Корзина
{% endblock title %}

{% block content %}
<!-- Shopping Cart Section-->
<section class="shopping-cart">
  <form method="post">
    {% csrf_token %}
      <div class="container">
        <div class="cart cart-holder">
          <h3 class="text-center">Товары в корзине</h3>
            <div class="row cart-header">
                <div class="col-5 text-center">Название товара</div>
                <div class="col-2">Цена</div>
                <div class="col-2">Количество</div>
                <div class="col-2">Всего</div>
                <div class="col-1 text-center">Удалить</div>
            </div>
            <div class="cart-body">
              <!-- Product list-->
              {% for product_in_cart in products_in_cart %}
              <div class="item">
                <div class="row d-flex align-items-center">
                  <div class="col-5">
                    <div class="d-flex align-items-center"><img src="https://d19m59y37dris4.cloudfront.net/hub/1-4-1/img/shirt.png" alt="..." class="cart-img-fluid">
                      <div class="title"><a href="detail.html">
                          <h5>{{ product_in_cart.product.name }}</h5><span class="text-muted">Size: Large</span></a></div>
                    </div>
                  </div>
                  <div class="col-2"><span class="product-price-per-item">{{ product_in_cart.price_per_item }}</span></div>
                  <div class="col-2 d-flex align-items-center quantity d-flex">
                    <span class="text-center quantity-input">{{ product_in_cart.quantity }}</span>
                    <!--<input type="number" value="{{ 1product_in_cart.quantity }}" disabled min="1" max="30" step="1" class="quantity-input">-->
                  </div>
                  <div class="col-2"><span class="product-total-price">{{ product_in_cart.total_price }}</span></div>
                  <div class="col-1 text-center"><i class="delete fa fa-trash"></i></div>
                </div>
              </div>
              {% endfor %}
            </div>
        </div>
      </div>
      <div class="text-right">
        <p class="total-amount"><b>Сумма заказа:</b> <span id="total_order_amount">{{ cart_total_price }} грн</span></p>
      </div>
    <div class="row">
      <div class="col-lg-4 offset-lg-2">
          <div class="form-group">
            <label>Логин</label> <span class="text-danger small">{{ form.username.errors }}</span>
            <input type="text" name="{{ form.username.html_name }}" class="form-control" value="{{ client.username }}">
          </div>
          <div class="form-group">
            <label>Фамилия</label> <span class="text-danger small">{{ form.last_name.errors }}</span>
            <input type="text" name="{{ form.last_name.html_name }}" class="form-control" value="{{ client.last_name }}">
          </div>
          <div class="form-group">
            <label>Телефон</label> <span class="text-danger small">{{ form.phone.errors }}</span>
            <input type="text" name="{{ form.phone.html_name }}" class="form-control" value="{{ client.phone }}">
          </div>
      </div>
      <div class="col-lg-4">
          <div class="form-group">
            <label>Email</label>
            <input type="text" name="{{ form.email.html_name }}" class="form-control" value="{{ client.email }}">
          </div>
          <div class="form-group">
            <label>Имя</label> <span class="text-danger small">{{ form.first_name.errors }}</span>
            <input type="text" name="{{ form.first_name.html_name }}" class="form-control" value="{{ client.first_name }}">
          </div>
          <div class="form-group">
            <label>Адрес</label> <span class="text-danger small">{{ form.address.errors }}</span>
            <input type="text" name="{{ form.address.html_name }}" class="form-control" value="{{ client.city }}">
          </div>
      </div>
    </div>

      <div class="container">
        <div class="d-flex align-items-center justify-content-center justify-content-md-end flex-column flex-md-row"><a href="/" class="btn btn-lg btn-outline-success btn-wide">Продолжить покупки</a> <button type="submit" class="btn btn-lg btn-success btn-wide">Заказать</button></div>
      </div>
  </form>
</section>
{% endblock content %}